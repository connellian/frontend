<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Cognito and S3 Example</title>
  </head>
  <body>
    <h1>Document Upload</h1>
    <p>Please register or login to upload a document:</p>

    <div id="registerForm">
      <h2>Register</h2>
      <form>
        <div>
          <label for="registerUsername">Username:</label>
          <input type="text" id="registerUsername" name="registerUsername">
        </div>
        <div>
          <label for="registerPassword">Password:</label>
          <input type="password" id="registerPassword" name="registerPassword">
        </div>
        <div>
          <button type="submit">Register</button>
        </div>
      </form>
    </div>

    <div id="loginForm">
      <h2>Login</h2>
      <form>
        <div>
          <label for="loginUsername">Username:</label>
          <input type="text" id="loginUsername" name="loginUsername">
        </div>
        <div>
          <label for="loginPassword">Password:</label>
          <input type="password" id="loginPassword" name="loginPassword">
        </div>
        <div>
          <button type="submit">Login</button>
        </div>
      </form>
    </div>

    <div id="uploadForm" style="display: none">
      <h2>Upload Document</h2>
      <form>
        <div>
          <label for="fileInput">Select a file:</label>
          <input type="file" id="fileInput" name="fileInput">
        </div>
        <div>
          <button type="submit">Upload</button>
        </div>
      </form>
    </div>

    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.872.0.min.js"></script>
    <script>


      AWS.config.region = 'us-west-2';
      const userPoolId = 'YOUR_USER_POOL_ID';
      const clientId = 'YOUR_APP_CLIENT_ID';
      const identityPoolId = 'YOUR_IDENTITY_POOL_ID';
      const redirectUri = 'YOUR_REDIRECT_URI';
      const bucketName = 'YOUR_BUCKET_NAME';
      const folderName = 'YOUR_FOLDER_NAME';

      function registerUser(event) {
        event.preventDefault();

        const username = document.getElementById('registerUsername').value;
        const password = document.getElementById('registerPassword').value;

        const userPool = new AmazonCognitoIdentity.CognitoUserPool({
          UserPoolId: userPoolId,
          ClientId: clientId,
        });

        const attributeList = [];

        const dataEmail = {
          Name: 'email',
          Value: username,
        };

        const attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(dataEmail);

        attributeList.push(attributeEmail);

        userPool.signUp(username, password, attributeList, null, (err, result) => {
          if (err) {
            console.error(err);
            return;
          }

          console.log(result);
          alert('Registration successful! Please check your email for the verification code.');

          document.getElementById('registerForm').style.display = 'none';
          document.getElementById('loginForm').style.display = 'block';
        });
      }

      function loginUser(event) {
        event.preventDefault();

        const username = document.getElementById('loginUsername').value;
      }